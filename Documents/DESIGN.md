# 전체 설계

## setter
* 자바의 보일러 코드를 없앨 목적으로 만들어진 코틀린인만큼, 코틀린의 기능을 100% 활용해야한다고 생각한다.
* 이에 따라 setter를 막는 다양한 방법들을 사용하게되면, 또 보일러 코드가 생성된다.
* 따라서 setter는 머릿속에서 지우고, 사용하지 않도록한다. 아니 setter는 아예 모르는 거다.
* 변경은 기존의 자바코드로 했던 방법과 같이 변경 메서드를 만들어서 처리하도록한다.
* 팀으로 개발을 진행할 때에도 보일러코드를 남기지 않기위해, 팀 컨벤션으로 setter를 아예 사용하지 않는것을 기본으로 한다.
* trade off의 영역이다. 컨벤션으로 맞추자.

## 외부 식별자
* uuid 형식의 외부 식별자를 두어, primary key가 외부로 노출되지 않도록 한다.
* primary key는 오로지 조인과 내부적인 동작을 위해서만 사용한다.
* no-offset 페이징시에 primary key 조회 쿼리가 더 날라가지만 보안성을 위해서 외부식별자를 반드시 사용한다.
* 외부 식별자 타입은 바이너리 16으로 설정한다.

## @Enumerated 대신에 Converter를 사용
* 스프링 부트 3.0.0 버전에서 @Enumerated 어노테이션이 작동하지 않는 문제가 발생했다.
* 이러한 문제로 해당 어노테이션을 불신하게 되었고, 코드로 동작하는 converter를 이용해서 타입을 변경하도록 한다.

## 유틸성 함수는 최상위 함수로 선언
* 유틸성 함수들은 최상위 함수로 선언하여 좀더 간결하게 표현한다.

## 조인
* 원하는 필드만 조회하거나, 연관관계가 조건절에만 사용되는 경우에는
* fetch join을 피하고, join을 사용하라.

## 복합키
* 복합키는 idClass를 사용한다.
* 복합키는 순서가 매우 중요하다. 특히나 인덱스를 위해서 순서를 잘 지켜서 조회해야한다.